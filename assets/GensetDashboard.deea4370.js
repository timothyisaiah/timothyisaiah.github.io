import{_,e as c,m as p,ao as f,aM as d,bn as w,p as h,o as g,i as v,n as r,w as n,aI as u,F as y,j as b}from"./index.adcf3461.js";import{M as C}from"./BarChart.7792b6ad.js";const z=c({name:"DashBoard",components:{MonthlyChart:C},computed:{...p("reports",["getReports"])},data(){return{fuel_assets:[],fuel_consumed_data:[],refueling_data:[],utilization_assets:[],utilization_data:[]}},async mounted(){let o=f.findIn(this.getReports.activeReports),s=o[o.findIndex(e=>e.title==="Fuel report")];if((s&&s.sheets=="Exceeded Memory Limit"||s.sheets==null)&&await d.report.retreiveReport(s.id).then(e=>{s=e.report}),s&&s.sheets[0].sections[0].text!="No data")if(s.sheets[0].header.toLowerCase()=="summary"){let e=s.sheets[0].sections[0].data[0].rows;for(let a in e)this.fuel_assets.push(e[a].object.v),this.refueling_data.push(e[a].fillingsVolume.raw?e[a].fillingsVolume.raw:0),this.fuel_consumed_data.push(e[a].consumed.raw?e[a].consumed.raw:0)}else{let e=s.sheets[0].sections[2].data[0].rows[0];this.fuel_assets.push(s.sheets[0].header),this.refueling_data.push(e.fillingsVolume.raw?e.fillingsVolume.raw:0),this.fuel_consumed_data.push(e.consumed.raw?e.consumed.raw:0)}let t=o[o.findIndex(e=>e.title==="Engine hours report")];if((t&&t.sheets=="Exceeded Memory Limit"||t.sheets==null)&&await d.report.retreiveReport(t.id).then(e=>{t=e.report}).catch(e=>{t=null}),t&&t.sheets[0].sections[0].text!="No data"){let e=w(t.from,t.to,"days");if(t.sheets[0].header.toLowerCase()=="summary"){let a=t.sheets[0].sections[0].data[0].rows;for(let l in a)this.utilization_assets.push(a[l].tracker.v),this.utilization_data.push(Number(a[l].duration.raw/(12*60*60*e)*100).toFixed(2))}else{let a=t.sheets[0].sections[3].data[0].total;this.utilization_assets.push(t.sheets[0].header),this.utilization_data.push(Number(a.duration.raw/(12*60*60*e)*100).toFixed(2))}}}}),R=b("div",{class:"text-center text-h4",align:"center"},"Fuel Report",-1);function x(o,s,t,e,a,l){const i=h("MonthlyChart"),m=h("q-seperator");return g(),v(y,null,[R,r(u,{class:"col-grow q-ma-sm"},{default:n(()=>[r(i,{data_labels:o.fuel_assets,data_values:o.fuel_consumed_data,chart_name:"Asset vs Fuel Consumed (L)"},null,8,["data_labels","data_values"])]),_:1}),r(m),r(u,{class:"col-grow q-ma-sm"},{default:n(()=>[r(i,{data_labels:o.fuel_assets,data_values:o.refueling_data,chart_name:"Asset vs Refueling (L)"},null,8,["data_labels","data_values"])]),_:1}),r(u,{class:"col-grow q-ma-sm"},{default:n(()=>[r(i,{data_labels:o.utilization_assets,data_values:o.utilization_data,chart_name:"Asset Utilization"},null,8,["data_labels","data_values"])]),_:1})],64)}var L=_(z,[["render",x]]);export{L as default};
