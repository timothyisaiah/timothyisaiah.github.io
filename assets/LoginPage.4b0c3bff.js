import{_ as n,e as i,m as d,f as u,p as m,o as p,i as f,j as o,aH as g,n as a,aE as r,Q as h}from"./index.a1805e5d.js";import{A as c}from"./AuthErrors.30ac650b.js";const w=i({name:"LoginPage",data(){return{values:{login:"",password:""}}},computed:{...d("auth",["auth"])},methods:{...u("auth",["updateAuth","login"]),loginUser(){this.validateForm()||(this.updateAuth({error:null,errors:[],pending:!0}),this.login(this.values).catch(s=>{console.error(s)}))},validateForm(){return this.$refs.login.validate(),this.$refs.password.validate(),!!(this.$refs.login.hasError||this.$refs.password.hasError)}},components:{AuthErrors:c}}),v={class:"full-screen bg-white"},b=o("div",{class:"row flex flex-center items-center full-width"},[o("img",{src:"/images/fmsafrica.png",alt:"Logo",class:"q-ma-md logo"})],-1),_={class:"row flex flex-center"},V={class:"col-md-6 col-grow q-ma-md"},$=o("label",{for:"login"},"Email or Username",-1),E=o("label",{for:"password"},"Password",-1);function U(s,l,P,y,A,q){const t=m("auth-errors");return p(),f("div",v,[b,o("div",_,[o("div",V,[o("form",{onSubmit:l[2]||(l[2]=g((...e)=>s.loginUser&&s.loginUser(...e),["prevent"]))},[$,a(r,{modelValue:s.values.login,"onUpdate:modelValue":l[0]||(l[0]=e=>s.values.login=e),outlined:"",ref:"login","lazy-rules":"",label:"Username or Email",rules:[e=>e&&e.length>0||"Please enter username or email"],class:"full-width q-mb-md"},null,8,["modelValue","rules"]),E,a(r,{modelValue:s.values.password,"onUpdate:modelValue":l[1]||(l[1]=e=>s.values.password=e),outlined:"",ref:"password",type:"password",label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please enter password"],class:"full-width q-mb-md"},null,8,["modelValue","rules"]),a(h,{label:"login",type:"submit",class:"bg-primary text-white full-width",loading:s.auth.pending,disabled:s.auth.pending},null,8,["loading","disabled"])],32),a(t)])])])}var Q=n(w,[["render",U]]);export{Q as default};
