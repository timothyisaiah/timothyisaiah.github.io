import{_ as a,e as i,m as l,ao as m,aN as p,aO as d,o as c,i as u,j as _,n as r,Q as s,w as v,F as g}from"./index.a1805e5d.js";import{Q as f}from"./QTable.237c86ab.js";import"./QItem.50e00458.js";import"./rtl.b51694b1.js";import"./position-engine.fbe6e9dd.js";import"./selection.bfef7e8b.js";import"./format.865294d5.js";const h=[{name:"asset_name",label:"Asset Name",field:"asset_name"},{name:"duration",label:"Engine hours",field:"duration"},{name:"idle",label:"Idling",field:"idle"},{name:"in_movement",label:"In Movement",field:"in_movement"},{name:"period_count",label:"Intervals",field:"period_count"},{name:"avg_period",label:"Average Interval",field:"avg_period"},{name:"percent_idle",label:"Percentage Idle",field:"percent_idle"},{name:"percent_in_movement",label:"Percentage in Movement",field:"percent_in_movement"}],b=i({data(){return{rows:[],columns:h,loading:!0}},computed:{...l("reports",["getReports"])},mounted(){let t=m.findIn(this.getReports.activeReports),n=t[t.findIndex(e=>e.title==="Engine hours report")];if(n&&n.sheets[0].sections[0].text!="No data"){let e=n.sheets[0].sections[0].data[0].rows;for(let o in e)this.rows.push({asset_name:e[o].tracker.v,duration:e[o].duration.v,idle:e[o].idle.v,in_movement:e[o].in_movement.v,period_count:e[o].period_count.v,avg_period:e[o].avg_period.v,percent_in_movement:e[o].percent_in_movement.v,percent_idle:e[o].percent_idle.v})}this.loading=!1},methods:{exportTable(){p(this.columns,this.rows,"Gensets Engine Hours Report.xlsx")},exportCSV(){d(this.columns,this.rows,"Gensets Engine Hours Report.csv")}}}),w={class:"full-width q-mt-md",align:"right"};function k(t,n,e,o,x,C){return c(),u(g,null,[_("div",w,[r(s,{flat:"",onClick:n[0]||(n[0]=R=>this.$router.push("/home")),icon:"keyboard_arrow_left",class:"text-positive",title:"Back"})]),r(f,{title:"Engine Hours Report",rows:t.rows,columns:t.columns,"row-key":"asset_name",class:"sticky-column","rows-per-page-options":[10,20,100],loading:t.loading},{"top-right":v(()=>[r(s,{color:"primary","icon-right":"download",label:"xls","no-caps":"",onClick:t.exportTable},null,8,["onClick"]),r(s,{color:"primary","icon-right":"download",label:"csv","no-caps":"",onClick:t.exportCSV,class:"q-mx-sm"},null,8,["onClick"])]),_:1},8,["rows","columns","loading"])],64)}var V=a(b,[["render",k]]);export{V as default};
